2023-04-08 15:33:01,577 INFO cc.vayne.Application [main] Starting Application using Java 11.0.17 on DESKTOP-MDIUJ8O with PID 8628 (C:\Users\73630\demo-chatgpt-spring-boot-starter-master\target\classes started by 73630 in C:\Users\73630\demo-chatgpt-spring-boot-starter-master)
2023-04-08 15:33:01,580 DEBUG cc.vayne.Application [main] Running with Spring Boot v2.7.9, Spring v5.3.25
2023-04-08 15:33:01,580 INFO cc.vayne.Application [main] No active profile set, falling back to 1 default profile: "default"
2023-04-08 15:33:02,681 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-04-08 15:33:02,715 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2023-04-08 15:33:02,718 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-04-08 15:33:03,111 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2023-04-08 15:33:03,114 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1487 ms
2023-04-08 15:33:03,961 INFO org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping [main] Adding welcome page: class path resource [static/index.html]
2023-04-08 15:33:04,386 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-04-08 15:33:04,427 INFO cc.vayne.Application [main] Started Application in 3.348 seconds (JVM running for 4.725)
2023-04-08 15:33:05,185 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-08 15:33:05,189 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-04-08 15:33:05,193 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 3 ms
2023-04-08 15:33:05,351 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-1] Incoming Request: cac7b2c0b718d328
Remote: 0:0:0:0:0:0:0:1
GET http://localhost:8080/ HTTP/1.1
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
cache-control: max-age=0
connection: keep-alive
host: localhost:8080
if-modified-since: Sat, 08 Apr 2023 06:12:06 GMT
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: document
sec-fetch-mode: navigate
sec-fetch-site: none
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:33:05,459 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-1] Outgoing Response: cac7b2c0b718d328
Duration: 232 ms
HTTP/1.1 304 Not Modified
Connection: keep-alive
Date: Sat, 08 Apr 2023 06:33:05 GMT
Keep-Alive: timeout=60
Last-Modified: Thu, 23 Mar 2023 11:50:25 GMT
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers
2023-04-08 15:33:05,705 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Incoming Request: fa884cd827c08a5c
Remote: 0:0:0:0:0:0:0:1
GET http://localhost:8080/ HTTP/1.1
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
cache-control: max-age=0
connection: keep-alive
host: localhost:8080
if-modified-since: Thu, 23 Mar 2023 11:50:25 GMT
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: document
sec-fetch-mode: navigate
sec-fetch-site: none
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:33:05,715 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Outgoing Response: fa884cd827c08a5c
Duration: 11 ms
HTTP/1.1 304 Not Modified
Connection: keep-alive
Date: Sat, 08 Apr 2023 06:33:05 GMT
Keep-Alive: timeout=60
Last-Modified: Thu, 23 Mar 2023 11:50:25 GMT
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers
2023-04-08 15:33:49,763 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-3] Incoming Request: aefb885ab895fe86
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EB%84%88%EB%8A%94%20%EC%B5%9C%EA%B3%A0%EC%9D%98%20%EC%89%90%ED%94%84%EC%95%BC.%20%EB%82%B4%EA%B0%80%20%EC%9D%8C%EC%8B%9D%20%EC%9E%AC%EB%A3%8C%EB%A5%BC%20%EC%9E%85%EB%A0%A5%ED%95%98%EB%A9%B4%20%EA%B7%B8%20%EC%9D%8C%EC%8B%9D%EC%9E%AC%EB%A3%8C%EB%A1%9C%20%EB%A7%8C%EB%93%A4%20%EC%88%98%20%EC%9E%88%EB%8A%94%20%EC%9A%94%EB%A6%AC%20%EB%A0%88%EC%8B%9C%ED%94%BC%EB%A5%BC%20%EC%9A%94%EB%A6%AC%EB%AA%85,%20%ED%95%84%EC%9A%94%20%EC%9E%AC%EB%A3%8C,%20%EC%A1%B0%EB%A6%AC%EB%B0%A9%EB%B2%95%20%EC%88%9C%EC%9C%BC%EB%A1%9C%20%EB%A7%90%ED%95%B4%EC%A4%98.%20%EC%9D%B4%ED%95%B4%ED%96%88%EC%A7%80? HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:33:49,832 INFO cc.vayne.controller.Controller [http-nio-8080-exec-3] requestId f7e8cf93-a2f5-4764-ad8f-c48fe6f65e16, ip 127.0.0.1, send a message : 너는 최고의 쉐프야. 내가 음식 재료를 입력하면 그 음식재료로 만들 수 있는 요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘. 이해했지?
2023-04-08 15:33:49,841 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-3] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=너는 최고의 쉐프야. 내가 음식 재료를 입력하면 그 음식재료로 만들 수 있는 요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘. 이해했지?, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:33:52,471 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-3] response: <200,ChatResponse(id=cmpl-72wQypuEvIWIk3WTYEqHJiwtA6EP8, object=text_completion, created=+4604215-06-13, model=text-davinci-003, choices=[Choice(text=

네, 이해했습니다. 사용하실 음식 재료를 적어주세요., index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=173, completionTokens=63, totalTokens=236)),[Date:"Sat, 08 Apr 2023 06:33:54 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"1507", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"d2b4c460d1828a527d32b58d73f4dcab", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b487b361a05edc5-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:33:52,475 INFO cc.vayne.controller.Controller [http-nio-8080-exec-3] requestId f7e8cf93-a2f5-4764-ad8f-c48fe6f65e16, ip 127.0.0.1, get a reply : 

네, 이해했습니다. 사용하실 음식 재료를 적어주세요.
2023-04-08 15:33:52,515 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-3] Outgoing Response: aefb885ab895fe86
Duration: 2743 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:33:52 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n네, 이해했습니다. 사용하실 음식 재료를 적어주세요."}
2023-04-08 15:34:01,818 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-4] Incoming Request: 849adf3f9f54dfd2
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EB%8F%BC%EC%A7%80,%20%EA%B9%80%EC%B9%98,%20%EB%91%90%EB%B6%80 HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:34:01,822 INFO cc.vayne.controller.Controller [http-nio-8080-exec-4] requestId a8fd614e-a3d8-4b94-8afd-79029432afaa, ip 127.0.0.1, send a message : 돼지, 김치, 두부
2023-04-08 15:34:01,823 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-4] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=돼지, 김치, 두부, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:34:03,177 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-4] response: <200,ChatResponse(id=cmpl-72wR9dqEY88WRkX8Uj6VuL3NjFpAV, object=text_completion, created=+4604215-06-24, model=text-davinci-003, choices=[Choice(text=

1. 돼지고기 볶음밥
2. 김치찌개
3. 두부된장찌개, index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=21, completionTokens=61, totalTokens=82)),[Date:"Sat, 08 Apr 2023 06:34:04 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"1102", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"6751dccbd3aebc334dd87e04dbba472b", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b487b7ba909edd5-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:34:03,180 INFO cc.vayne.controller.Controller [http-nio-8080-exec-4] requestId a8fd614e-a3d8-4b94-8afd-79029432afaa, ip 127.0.0.1, get a reply : 

1. 돼지고기 볶음밥
2. 김치찌개
3. 두부된장찌개
2023-04-08 15:34:03,185 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-4] Outgoing Response: 849adf3f9f54dfd2
Duration: 1366 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:34:03 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n1. 돼지고기 볶음밥\n2. 김치찌개\n3. 두부된장찌개"}
2023-04-08 15:34:28,737 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Incoming Request: 816d6c0c72c869ac
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EC%9A%94%EB%A6%AC%EB%AA%85%EB%A7%8C%20%EB%A7%90%ED%95%98%EC%A7%80%EB%A7%90%EA%B3%A0%20%ED%95%9C%EB%B2%88%EC%97%90%20%20%EC%9A%94%EB%A6%AC%20%EB%A0%88%EC%8B%9C%ED%94%BC%EB%A5%BC%20%EC%9A%94%EB%A6%AC%EB%AA%85,%20%ED%95%84%EC%9A%94%20%EC%9E%AC%EB%A3%8C,%20%EC%A1%B0%EB%A6%AC%EB%B0%A9%EB%B2%95%20%EC%88%9C%EC%9C%BC%EB%A1%9C%20%EB%A7%90%ED%95%B4%EC%A4%98 HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:34:28,742 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 4c4b3bf5-cadb-4366-8470-995f2ed60e94, ip 127.0.0.1, send a message : 요리명만 말하지말고 한번에  요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘
2023-04-08 15:34:28,743 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=요리명만 말하지말고 한번에  요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:34:39,855 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] response: <200,ChatResponse(id=cmpl-72wRaNaqm5mqoR33HmyXKcX6cNyhd, object=text_completion, created=+4604215-07-21, model=text-davinci-003, choices=[Choice(text=

황금오리 요리 

재료 : 감자, 다진 마늘, 양파, 생강, 돼지고기, 고기 양념

조리방법 : 
1. 돼지고기는 양념하여 물에 30분 동안 주물러 담가 불린 후 용기에 담아 반죽 재료를 넣어 2시간 동안 자연숙성시킨다. 
2. 감자는 스크램블로 썰어 깨끗이 씻어둔다. 
3. 다진 마늘과 양파는 동일한 크기로 썰어 깨끗이 씻어둔다. 
4. 반죽 재료, 돼지고기, 생강, 양파, 감자, 마늘을 차례대로 싸그리고 고기 자를 준비한다. 
5. 손으로 찰떡, index=0, logprobs=null, finishReason=length)], usage=Usage(promptTokens=106, completionTokens=500, totalTokens=606)),[Date:"Sat, 08 Apr 2023 06:34:41 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"10878", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"ff33b9cfea84aa896289ca0a074e15e7", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b487c23efaeeded-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:34:39,860 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 4c4b3bf5-cadb-4366-8470-995f2ed60e94, ip 127.0.0.1, get a reply : 

황금오리 요리 

재료 : 감자, 다진 마늘, 양파, 생강, 돼지고기, 고기 양념

조리방법 : 
1. 돼지고기는 양념하여 물에 30분 동안 주물러 담가 불린 후 용기에 담아 반죽 재료를 넣어 2시간 동안 자연숙성시킨다. 
2. 감자는 스크램블로 썰어 깨끗이 씻어둔다. 
3. 다진 마늘과 양파는 동일한 크기로 썰어 깨끗이 씻어둔다. 
4. 반죽 재료, 돼지고기, 생강, 양파, 감자, 마늘을 차례대로 싸그리고 고기 자를 준비한다. 
5. 손으로 찰떡
2023-04-08 15:34:39,865 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Outgoing Response: 816d6c0c72c869ac
Duration: 11126 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:34:39 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n황금오리 요리 \n\n재료 : 감자, 다진 마늘, 양파, 생강, 돼지고기, 고기 양념\n\n조리방법 : \n1. 돼지고기는 양념하여 물에 30분 동안 주물러 담가 불린 후 용기에 담아 반죽 재료를 넣어 2시간 동안 자연숙성시킨다. \n2. 감자는 스크램블로 썰어 깨끗이 씻어둔다. \n3. 다진 마늘과 양파는 동일한 크기로 썰어 깨끗이 씻어둔다. \n4. 반죽 재료, 돼지고기, 생강, 양파, 감자, 마늘을 차례대로 싸그리고 고기 자를 준비한다. \n5. 손으로 찰떡"}
2023-04-08 15:42:18,682 INFO cc.vayne.Application [main] Starting Application using Java 11.0.17 on DESKTOP-MDIUJ8O with PID 7312 (C:\Users\73630\demo-chatgpt-spring-boot-starter-master\target\classes started by 73630 in C:\Users\73630\demo-chatgpt-spring-boot-starter-master)
2023-04-08 15:42:18,684 DEBUG cc.vayne.Application [main] Running with Spring Boot v2.7.9, Spring v5.3.25
2023-04-08 15:42:18,685 INFO cc.vayne.Application [main] No active profile set, falling back to 1 default profile: "default"
2023-04-08 15:42:19,684 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-04-08 15:42:19,698 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2023-04-08 15:42:19,698 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-04-08 15:42:19,817 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2023-04-08 15:42:19,817 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1083 ms
2023-04-08 15:42:20,188 INFO org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping [main] Adding welcome page: class path resource [static/index.html]
2023-04-08 15:42:20,336 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-04-08 15:42:20,354 INFO cc.vayne.Application [main] Started Application in 2.176 seconds (JVM running for 3.583)
2023-04-08 15:42:20,970 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-08 15:42:20,973 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2023-04-08 15:42:20,974 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
2023-04-08 15:42:21,028 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Incoming Request: 8d11101630825854
Remote: 0:0:0:0:0:0:0:1
GET http://localhost:8080/ HTTP/1.1
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
cache-control: max-age=0
connection: keep-alive
host: localhost:8080
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: document
sec-fetch-mode: navigate
sec-fetch-site: none
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:42:21,075 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Outgoing Response: 8d11101630825854
Duration: 88 ms
HTTP/1.1 200 OK
Accept-Ranges: bytes
Connection: keep-alive
Content-Language: ko-KR
Content-Length: 1830
Content-Type: text/html;charset=UTF-8
Date: Sat, 08 Apr 2023 06:42:21 GMT
Keep-Alive: timeout=60
Last-Modified: Thu, 23 Mar 2023 11:50:25 GMT
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat</title>
    <link rel="shortcut icon" href="ChatGPT.jpeg" />
    <style type="text/css">
        #message-list {
            width: 100%;
            height: 500px;
            overflow-y: scroll;
        }

        .message-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .user-message {
            white-space: pre-line;
            background-color: #eee;
            border-radius: 5px;
            padding: 10px;
            margin-right: 20px;
        }

        .bot-message {
            white-space: pre-line;
            background-color: #fff;
            border-radius: 5px;
            padding: 10px;
            margin-left: 20px;
        }
    </style>
</head>
<body>
<div>Input your message here and press "Enter" to send (don't send it again before getting the previous response)</div>
<input type="text" id="message-input" width="100%">
<div id="message-list"></div>
<script>
    const messageList = document.getElementById('message-list');

    document.getElementById('message-input').addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            const message = event.target.value;
            messageList.innerHTML += `<div class="message-item"><div class="user-message">${message}</div></div>`;
            event.target.value = '';
            fetch('http://127.0.0.1:8080/send?message=' + message, {
                method: 'GET'
            })
                .then((response) => response.json())
                .then((data) => {
                    messageList.innerHTML += `<div class="message-item"><div class="bot-message">${data.data}</div></div>`;
                });
        }
    });
</script>
</body>
</html>
2023-04-08 15:42:23,159 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-3] Incoming Request: bfd9c4662c05a8ae
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EB%84%88%EB%8A%94%20%EC%B5%9C%EA%B3%A0%EC%9D%98%20%EC%89%90%ED%94%84%EC%95%BC.%20%EB%82%B4%EA%B0%80%20%EC%9D%8C%EC%8B%9D%20%EC%9E%AC%EB%A3%8C%EB%A5%BC%20%EC%9E%85%EB%A0%A5%ED%95%98%EB%A9%B4%20%EA%B7%B8%20%EC%9D%8C%EC%8B%9D%EC%9E%AC%EB%A3%8C%EB%A1%9C%20%EB%A7%8C%EB%93%A4%20%EC%88%98%20%EC%9E%88%EB%8A%94%20%EC%9A%94%EB%A6%AC%20%EB%A0%88%EC%8B%9C%ED%94%BC%EB%A5%BC%20%EC%9A%94%EB%A6%AC%EB%AA%85,%20%ED%95%84%EC%9A%94%20%EC%9E%AC%EB%A3%8C,%20%EC%A1%B0%EB%A6%AC%EB%B0%A9%EB%B2%95%20%EC%88%9C%EC%9C%BC%EB%A1%9C%20%EB%A7%90%ED%95%B4%EC%A4%98.%20%EC%9D%B4%ED%95%B4%ED%96%88%EC%A7%80? HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:42:23,186 INFO cc.vayne.controller.Controller [http-nio-8080-exec-3] requestId 359d41c7-178c-45d2-9614-c9830085a682, ip 127.0.0.1, send a message : 너는 최고의 쉐프야. 내가 음식 재료를 입력하면 그 음식재료로 만들 수 있는 요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘. 이해했지?
2023-04-08 15:42:23,189 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-3] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=너는 최고의 쉐프야. 내가 음식 재료를 입력하면 그 음식재료로 만들 수 있는 요리 레시피를 요리명, 필요 재료, 조리방법 순으로 말해줘. 이해했지?, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:42:25,885 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-3] response: <200,ChatResponse(id=cmpl-72wZFBfvseNBqZKQZYZoEgRhREcBg, object=text_completion, created=+4604216-11-07, model=text-davinci-003, choices=[Choice(text=

네, 이해했습니다. 원하시는 재료를 입력하시면 요리 레시피를 말해드리겠습니다., index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=173, completionTokens=96, totalTokens=269)),[Date:"Sat, 08 Apr 2023 06:42:27 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"2137", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"092a8c4f76002cbb140c9e275dfac1e2", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b4887bb3cf5ee0d-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:42:25,888 INFO cc.vayne.controller.Controller [http-nio-8080-exec-3] requestId 359d41c7-178c-45d2-9614-c9830085a682, ip 127.0.0.1, get a reply : 

네, 이해했습니다. 원하시는 재료를 입력하시면 요리 레시피를 말해드리겠습니다.
2023-04-08 15:42:25,922 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-3] Outgoing Response: bfd9c4662c05a8ae
Duration: 2754 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:42:25 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n네, 이해했습니다. 원하시는 재료를 입력하시면 요리 레시피를 말해드리겠습니다."}
2023-04-08 15:42:40,346 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Incoming Request: b70c33266b79bf43
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%ED%96%84,%20%EC%8B%9D%EB%B9%B5,%20%EA%B3%84%EB%9E%80 HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:42:40,349 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 22acbb33-3b1e-491c-8024-5adfb0b2053f, ip 127.0.0.1, send a message : 햄, 식빵, 계란
2023-04-08 15:42:40,349 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=햄, 식빵, 계란, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:42:43,770 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] response: <200,ChatResponse(id=cmpl-72wZWT6TvJoG29J7pegJiixpYD3fz, object=text_completion, created=+4604216-11-24, model=text-davinci-003, choices=[Choice(text=

빵집에서 구입할 수 있는 빵은 바게트, 크로와상, 딸기 슈크레몬, 글램 빵, 생크림 빵, 햄 빵, 식빵과 계란 빵 등이 있습니다., index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=18, completionTokens=147, totalTokens=165)),[Date:"Sat, 08 Apr 2023 06:42:45 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"3095", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"d87e7a20bc5ef8c271b01de757e1d991", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b488824b97eed8d-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:42:43,773 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 22acbb33-3b1e-491c-8024-5adfb0b2053f, ip 127.0.0.1, get a reply : 

빵집에서 구입할 수 있는 빵은 바게트, 크로와상, 딸기 슈크레몬, 글램 빵, 생크림 빵, 햄 빵, 식빵과 계란 빵 등이 있습니다.
2023-04-08 15:42:43,778 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Outgoing Response: b70c33266b79bf43
Duration: 3431 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:42:43 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n빵집에서 구입할 수 있는 빵은 바게트, 크로와상, 딸기 슈크레몬, 글램 빵, 생크림 빵, 햄 빵, 식빵과 계란 빵 등이 있습니다."}
2023-04-08 15:42:51,708 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-5] Incoming Request: e223b5c273aeba96
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EC%9A%94%EB%A6%AC%20%EB%A0%88%EC%8B%9C%ED%94%BC%EB%A5%BC%20%EC%95%8C%EB%A0%A4%EB%8B%AC%EB%9D%BC%EA%B5%AC HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:42:51,711 INFO cc.vayne.controller.Controller [http-nio-8080-exec-5] requestId 44f8733d-479c-4dec-9f57-88181f19c2fd, ip 127.0.0.1, send a message : 요리 레시피를 알려달라구
2023-04-08 15:42:51,712 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-5] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=요리 레시피를 알려달라구, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:42:59,846 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-5] response: <200,ChatResponse(id=cmpl-72wZhElXgr3TDgerK1tn0KxTkXjrt, object=text_completion, created=+4604216-12-05, model=text-davinci-003, choices=[Choice(text=요

김치 볶음밥 레시피는 이렇습니다. 

재료
- 밥 2~3 컵
- 김치 (냉동 상태) 1통
- 돼지고기 (김치 볶음밥에 넣는 돼지고기는 덩어리 단위가 잘린 배추김치국수 고기가 적당합니다) 
- 다진 마늘(느린 토스트 세팅할 때) 1큰술 
- 소금 약간
- 참기름 약간
- 다진 파 1작은술

만드는 방법
1. 밥을 더 잘거리기 깨끗한 물에 불리는 식기에 담고 보통 컵 한 컵은 물의 반을 사용하고 보통 더 건조한 밥을 만들려면 물의 다섯 분의 하나를 추가합니다. , index=0, logprobs=null, finishReason=length)], usage=Usage(promptTokens=32, completionTokens=500, totalTokens=532)),[Date:"Sat, 08 Apr 2023 06:43:01 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"7732", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"c736280b6a5d675b1615f0455598b660", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b48886bbb83933b-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:42:59,850 INFO cc.vayne.controller.Controller [http-nio-8080-exec-5] requestId 44f8733d-479c-4dec-9f57-88181f19c2fd, ip 127.0.0.1, get a reply : 요

김치 볶음밥 레시피는 이렇습니다. 

재료
- 밥 2~3 컵
- 김치 (냉동 상태) 1통
- 돼지고기 (김치 볶음밥에 넣는 돼지고기는 덩어리 단위가 잘린 배추김치국수 고기가 적당합니다) 
- 다진 마늘(느린 토스트 세팅할 때) 1큰술 
- 소금 약간
- 참기름 약간
- 다진 파 1작은술

만드는 방법
1. 밥을 더 잘거리기 깨끗한 물에 불리는 식기에 담고 보통 컵 한 컵은 물의 반을 사용하고 보통 더 건조한 밥을 만들려면 물의 다섯 분의 하나를 추가합니다. 
2023-04-08 15:42:59,856 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-5] Outgoing Response: e223b5c273aeba96
Duration: 8147 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:42:59 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"요\n\n김치 볶음밥 레시피는 이렇습니다. \n\n재료\n- 밥 2~3 컵\n- 김치 (냉동 상태) 1통\n- 돼지고기 (김치 볶음밥에 넣는 돼지고기는 덩어리 단위가 잘린 배추김치국수 고기가 적당합니다) \n- 다진 마늘(느린 토스트 세팅할 때) 1큰술 \n- 소금 약간\n- 참기름 약간\n- 다진 파 1작은술\n\n만드는 방법\n1. 밥을 더 잘거리기 깨끗한 물에 불리는 식기에 담고 보통 컵 한 컵은 물의 반을 사용하고 보통 더 건조한 밥을 만들려면 물의 다섯 분의 하나를 추가합니다. "}
2023-04-08 15:51:39,901 INFO cc.vayne.Application [main] Starting Application using Java 11.0.17 on DESKTOP-MDIUJ8O with PID 33544 (C:\Users\73630\demo-chatgpt-spring-boot-starter-master\target\classes started by 73630 in C:\Users\73630\demo-chatgpt-spring-boot-starter-master)
2023-04-08 15:51:39,905 DEBUG cc.vayne.Application [main] Running with Spring Boot v2.7.9, Spring v5.3.25
2023-04-08 15:51:39,906 INFO cc.vayne.Application [main] No active profile set, falling back to 1 default profile: "default"
2023-04-08 15:51:40,742 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-04-08 15:51:40,752 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2023-04-08 15:51:40,752 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.71]
2023-04-08 15:51:40,858 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2023-04-08 15:51:40,859 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 913 ms
2023-04-08 15:51:41,434 INFO org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping [main] Adding welcome page: class path resource [static/index.html]
2023-04-08 15:51:41,904 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-04-08 15:51:41,952 INFO cc.vayne.Application [main] Started Application in 2.532 seconds (JVM running for 3.861)
2023-04-08 15:51:50,581 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-08 15:51:50,585 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2023-04-08 15:51:50,586 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2023-04-08 15:51:50,634 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-1] Incoming Request: dfb045d51a62a05f
Remote: 0:0:0:0:0:0:0:1
GET http://localhost:8080/ HTTP/1.1
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
cache-control: max-age=0
connection: keep-alive
host: localhost:8080
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: document
sec-fetch-mode: navigate
sec-fetch-site: none
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:51:50,679 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-1] Outgoing Response: dfb045d51a62a05f
Duration: 80 ms
HTTP/1.1 200 OK
Accept-Ranges: bytes
Connection: keep-alive
Content-Language: ko-KR
Content-Length: 1830
Content-Type: text/html;charset=UTF-8
Date: Sat, 08 Apr 2023 06:51:50 GMT
Keep-Alive: timeout=60
Last-Modified: Thu, 23 Mar 2023 11:50:25 GMT
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat</title>
    <link rel="shortcut icon" href="ChatGPT.jpeg" />
    <style type="text/css">
        #message-list {
            width: 100%;
            height: 500px;
            overflow-y: scroll;
        }

        .message-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .user-message {
            white-space: pre-line;
            background-color: #eee;
            border-radius: 5px;
            padding: 10px;
            margin-right: 20px;
        }

        .bot-message {
            white-space: pre-line;
            background-color: #fff;
            border-radius: 5px;
            padding: 10px;
            margin-left: 20px;
        }
    </style>
</head>
<body>
<div>Input your message here and press "Enter" to send (don't send it again before getting the previous response)</div>
<input type="text" id="message-input" width="100%">
<div id="message-list"></div>
<script>
    const messageList = document.getElementById('message-list');

    document.getElementById('message-input').addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            const message = event.target.value;
            messageList.innerHTML += `<div class="message-item"><div class="user-message">${message}</div></div>`;
            event.target.value = '';
            fetch('http://127.0.0.1:8080/send?message=' + message, {
                method: 'GET'
            })
                .then((response) => response.json())
                .then((data) => {
                    messageList.innerHTML += `<div class="message-item"><div class="bot-message">${data.data}</div></div>`;
                });
        }
    });
</script>
</body>
</html>
2023-04-08 15:51:51,658 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Incoming Request: a221f95d410e6802
Remote: 0:0:0:0:0:0:0:1
GET http://localhost:8080/ HTTP/1.1
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
cache-control: max-age=0
connection: keep-alive
host: localhost:8080
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: document
sec-fetch-mode: navigate
sec-fetch-site: none
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:51:51,666 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-2] Outgoing Response: a221f95d410e6802
Duration: 7 ms
HTTP/1.1 200 OK
Accept-Ranges: bytes
Connection: keep-alive
Content-Language: ko-KR
Content-Length: 1830
Content-Type: text/html;charset=UTF-8
Date: Sat, 08 Apr 2023 06:51:50 GMT
Keep-Alive: timeout=60
Last-Modified: Thu, 23 Mar 2023 11:50:25 GMT
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat</title>
    <link rel="shortcut icon" href="ChatGPT.jpeg" />
    <style type="text/css">
        #message-list {
            width: 100%;
            height: 500px;
            overflow-y: scroll;
        }

        .message-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .user-message {
            white-space: pre-line;
            background-color: #eee;
            border-radius: 5px;
            padding: 10px;
            margin-right: 20px;
        }

        .bot-message {
            white-space: pre-line;
            background-color: #fff;
            border-radius: 5px;
            padding: 10px;
            margin-left: 20px;
        }
    </style>
</head>
<body>
<div>Input your message here and press "Enter" to send (don't send it again before getting the previous response)</div>
<input type="text" id="message-input" width="100%">
<div id="message-list"></div>
<script>
    const messageList = document.getElementById('message-list');

    document.getElementById('message-input').addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            const message = event.target.value;
            messageList.innerHTML += `<div class="message-item"><div class="user-message">${message}</div></div>`;
            event.target.value = '';
            fetch('http://127.0.0.1:8080/send?message=' + message, {
                method: 'GET'
            })
                .then((response) => response.json())
                .then((data) => {
                    messageList.innerHTML += `<div class="message-item"><div class="bot-message">${data.data}</div></div>`;
                });
        }
    });
</script>
</body>
</html>
2023-04-08 15:52:56,939 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-4] Incoming Request: b166b6bffb3ea282
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EC%9A%94%EB%A6%AC%EC%9E%AC%EB%A3%8C%EB%A5%BC%20%EC%9E%85%EB%A0%A5%ED%95%98%EB%A9%B4%20%EA%B7%B8%20%EC%9E%AC%EB%A3%8C%EB%93%A4%EC%9D%84%20%ED%8F%AC%ED%95%A8%ED%95%B4%EC%84%9C%20%EB%A7%8C%EB%93%A4%20%EC%88%98%20%EC%9E%88%EB%8A%94%20%EC%9A%94%EB%A6%AC%EB%A0%88%EC%8B%9C%ED%94%BC%EB%A5%BC%20%EC%B6%94%EC%B2%9C%ED%95%B4%EC%A4%98.%20%EC%B6%94%EC%B2%9C%ED%95%B4%EC%A3%BC%EB%8A%94%20%EB%B0%A9%EC%8B%9D%EC%9D%80%201.%20%EC%9A%94%EB%A6%AC%EB%AA%85,%202.%20%ED%95%84%EC%9A%94%EC%9E%AC%EB%A3%8C,%203.%20%EC%A1%B0%EB%A6%AC%EB%B0%A9%EB%B2%95%20%EC%9D%B4%20%EC%88%9C%EC%84%9C%EB%A1%9C%20%EC%9E%91%EC%84%B1%ED%95%B4%EC%84%9C%20%EB%8C%80%EB%8B%B5%ED%95%B4%EC%A4%98 HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:52:56,996 INFO cc.vayne.controller.Controller [http-nio-8080-exec-4] requestId 72aebc48-0b51-4286-a1c9-cde1ecf120e5, ip 127.0.0.1, send a message : 요리재료를 입력하면 그 재료들을 포함해서 만들 수 있는 요리레시피를 추천해줘. 추천해주는 방식은 1. 요리명, 2. 필요재료, 3. 조리방법 이 순서로 작성해서 대답해줘
2023-04-08 15:52:57,004 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-4] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=요리재료를 입력하면 그 재료들을 포함해서 만들 수 있는 요리레시피를 추천해줘. 추천해주는 방식은 1. 요리명, 2. 필요재료, 3. 조리방법 이 순서로 작성해서 대답해줘, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:53:05,319 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-4] response: <200,ChatResponse(id=cmpl-72wjTnGB7DeyOTfBudGPrp0qOFZrh, object=text_completion, created=+4604218-08-03, model=text-davinci-003, choices=[Choice(text=.

1. 떡 만들기
필요재료: 밀가루, 물, 간장
조리방법:
1. 밀가루를 먼저 그릇에 붓고, 물을 적당한 양 넣고 섞어줍니다.
2. 간장과 키친소금을 넣고 섞어줍니다.
3. 가루 물을 휘핑기로 녹이고, 녹인 가루물을 냄비로 옮겨 붓습니다.
4. 더볶고 볶음가루 토핑을 올려 마지막으로 주물러 볶아 먹습니다., index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=193, completionTokens=338, totalTokens=531)),[Date:"Sat, 08 Apr 2023 06:53:06 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"7206", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"016de49c4c2638bf55d13d010695f6fe", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b4897386b67edd1-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:53:05,323 INFO cc.vayne.controller.Controller [http-nio-8080-exec-4] requestId 72aebc48-0b51-4286-a1c9-cde1ecf120e5, ip 127.0.0.1, get a reply : .

1. 떡 만들기
필요재료: 밀가루, 물, 간장
조리방법:
1. 밀가루를 먼저 그릇에 붓고, 물을 적당한 양 넣고 섞어줍니다.
2. 간장과 키친소금을 넣고 섞어줍니다.
3. 가루 물을 휘핑기로 녹이고, 녹인 가루물을 냄비로 옮겨 붓습니다.
4. 더볶고 볶음가루 토핑을 올려 마지막으로 주물러 볶아 먹습니다.
2023-04-08 15:53:05,357 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-4] Outgoing Response: b166b6bffb3ea282
Duration: 8411 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:53:05 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":".\n\n1. 떡 만들기\n필요재료: 밀가루, 물, 간장\n조리방법:\n1. 밀가루를 먼저 그릇에 붓고, 물을 적당한 양 넣고 섞어줍니다.\n2. 간장과 키친소금을 넣고 섞어줍니다.\n3. 가루 물을 휘핑기로 녹이고, 녹인 가루물을 냄비로 옮겨 붓습니다.\n4. 더볶고 볶음가루 토핑을 올려 마지막으로 주물러 볶아 먹습니다."}
2023-04-08 15:53:13,201 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-5] Incoming Request: d33976d4da493e32
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EC%9D%B4%EC%A0%9C%20%EC%9E%AC%EB%A3%8C%EB%A5%BC%20%EC%9E%85%EB%A0%A5%ED%95%A0%EA%B2%8C HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:53:13,204 INFO cc.vayne.controller.Controller [http-nio-8080-exec-5] requestId 618c35b8-e2b7-4f6f-adcd-1ff230681efa, ip 127.0.0.1, send a message : 이제 재료를 입력할게
2023-04-08 15:53:13,206 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-5] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=이제 재료를 입력할게, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:53:14,914 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-5] response: <200,ChatResponse(id=cmpl-72wjjH36pP6mKv6gJa8nvfSLWWfYN, object=text_completion, created=+4604218-08-19, model=text-davinci-003, choices=[Choice(text=요

1. 밀가루
2. 계란
3. 물
4. 우유, index=0, logprobs=null, finishReason=stop)], usage=Usage(promptTokens=25, completionTokens=40, totalTokens=65)),[Date:"Sat, 08 Apr 2023 06:53:16 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"1382", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"59be88660064e1ceeb4e997ada0b3bd1", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b4897988863ee01-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:53:14,917 INFO cc.vayne.controller.Controller [http-nio-8080-exec-5] requestId 618c35b8-e2b7-4f6f-adcd-1ff230681efa, ip 127.0.0.1, get a reply : 요

1. 밀가루
2. 계란
3. 물
4. 우유
2023-04-08 15:53:14,923 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-5] Outgoing Response: d33976d4da493e32
Duration: 1721 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:53:14 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"요\n\n1. 밀가루\n2. 계란\n3. 물\n4. 우유"}
2023-04-08 15:53:22,919 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Incoming Request: bf635410345db6d0
Remote: 127.0.0.1
GET http://127.0.0.1:8080/send?message=%EC%8B%9D%EB%B9%B5,%20%ED%96%84,%20%EC%96%91%ED%8C%8C HTTP/1.1
accept: */*
accept-encoding: gzip, deflate, br
accept-language: ko-KR,ko;q=0.9
connection: keep-alive
host: 127.0.0.1:8080
origin: http://localhost:8080
referer: http://localhost:8080/
sec-ch-ua: "Chromium";v="112", "Google Chrome";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
sec-fetch-dest: empty
sec-fetch-mode: cors
sec-fetch-site: cross-site
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
2023-04-08 15:53:22,921 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 50230d60-ba7a-467d-9b70-18475a44507c, ip 127.0.0.1, send a message : 식빵, 햄, 양파
2023-04-08 15:53:22,922 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] request url: https://api.openai.com/v1/completions, httpEntity: <ChatRequest(model=text-davinci-003, prompt=식빵, 햄, 양파, maxTokens=500, temperature=1.0, topP=1.0, suffix=null, n=null, stream=null, logprobs=null, echo=null, stop=null, presencePenalty=null, frequencyPenalty=null, bestOf=null, logitBias=null, user=null),[Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer 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"]>
2023-04-08 15:53:25,459 INFO io.github.flashvayne.chatgpt.service.impl.DefaultChatgptService [http-nio-8080-exec-6] response: <200,ChatResponse(id=cmpl-72wjsCOLEkqQEkZLwr7yV41keiYfA, object=text_completion, created=+4604218-08-28, model=text-davinci-003, choices=[Choice(text=

- 일식빵 : 도너츠, 라면빵, 야끼빵 
- 햄 : 곡물햄, 블랙햄, 오리지널 햄 
- 양파 : 돼지고기 양파구이, 소고기 양파구이, 비빔밥, index=0, logprobs=null, finishReason=null)], usage=Usage(promptTokens=18, completionTokens=150, totalTokens=168)),[Date:"Sat, 08 Apr 2023 06:53:26 GMT", Content-Type:"application/json", Transfer-Encoding:"chunked", Connection:"keep-alive", access-control-allow-origin:"*", Cache-Control:"no-cache, must-revalidate", openai-model:"text-davinci-003", openai-organization:"user-3yloji6bwsbziklnitm55go5", openai-processing-ms:"1988", openai-version:"2020-10-01", strict-transport-security:"max-age=15724800; includeSubDomains", x-ratelimit-limit-requests:"60", x-ratelimit-limit-tokens:"150000", x-ratelimit-remaining-requests:"59", x-ratelimit-remaining-tokens:"149500", x-ratelimit-reset-requests:"1s", x-ratelimit-reset-tokens:"200ms", x-request-id:"dc3ef6ff5149109c2be74b2970eaa87a", CF-Cache-Status:"DYNAMIC", Server:"cloudflare", CF-RAY:"7b4897d52c889326-ICN", alt-svc:"h3=":443"; ma=86400, h3-29=":443"; ma=86400"]>
2023-04-08 15:53:25,462 INFO cc.vayne.controller.Controller [http-nio-8080-exec-6] requestId 50230d60-ba7a-467d-9b70-18475a44507c, ip 127.0.0.1, get a reply : 

- 일식빵 : 도너츠, 라면빵, 야끼빵 
- 햄 : 곡물햄, 블랙햄, 오리지널 햄 
- 양파 : 돼지고기 양파구이, 소고기 양파구이, 비빔밥
2023-04-08 15:53:25,468 TRACE org.zalando.logbook.Logbook [http-nio-8080-exec-6] Outgoing Response: bf635410345db6d0
Duration: 2546 ms
HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Connection: keep-alive
Content-Type: application/json;charset=UTF-8
Date: Sat, 08 Apr 2023 06:53:25 GMT
Keep-Alive: timeout=60
Transfer-Encoding: chunked
Vary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers

{"code":200,"message":"success","data":"\n\n- 일식빵 : 도너츠, 라면빵, 야끼빵 \n- 햄 : 곡물햄, 블랙햄, 오리지널 햄 \n- 양파 : 돼지고기 양파구이, 소고기 양파구이, 비빔밥"}
